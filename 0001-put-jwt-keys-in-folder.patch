From 9e66ee597623bcd2bf50e10204078c3a87653b07 Mon Sep 17 00:00:00 2001
From: RONTheCookie <ronthecookie0101@gmail.com>
Date: Mon, 6 May 2019 13:17:07 +0300
Subject: [PATCH] put jwt keys in folder

---
 server/.gitignore | 3 +--
 server/gen_jwt.sh | 5 ++++-
 server/index.js   | 2 +-
 3 files changed, 6 insertions(+), 4 deletions(-)

diff --git a/server/.gitignore b/server/.gitignore
index a377239..a60fe6c 100644
--- a/server/.gitignore
+++ b/server/.gitignore
@@ -1,5 +1,4 @@
-jwt.key
-jwt.key.pub
+jwt
 
 # Logs
 logs
diff --git a/server/gen_jwt.sh b/server/gen_jwt.sh
index 9dd0484..5bdb9aa 100755
--- a/server/gen_jwt.sh
+++ b/server/gen_jwt.sh
@@ -1,3 +1,6 @@
 #!/bin/sh
+mkdir jwt
+cd jwt
 ssh-keygen -t rsa -b 4096 -f jwt.key
-openssl rsa -in jwt.key -pubout -outform PEM -out jwt.key.pub
\ No newline at end of file
+openssl rsa -in jwt.key -pubout -outform PEM -out jwt.key.pub                                         
+cd ..
\ No newline at end of file
diff --git a/server/index.js b/server/index.js
index 1107c11..1dede8e 100644
--- a/server/index.js
+++ b/server/index.js
@@ -7,7 +7,7 @@ var app = express();
 
 // constants
 var r = module.exports.r = require('rethinkdbdash')({ db: 'discordboatsclub_v4', port: process.env.RETHINKDB_PORT || 28015, host: process.env.RETHINKDB_HOST || 'localhost' });
-const JWT_KEY = module.exports.JWT_KEY = fs.readFileSync('jwt.key').toString();
+const JWT_KEY = module.exports.JWT_KEY = fs.readFileSync('jwt/jwt.key').toString();
 const PORT = process.env.PORT || 3001;
 
 var client = require('./client.js');
-- 
2.21.0

